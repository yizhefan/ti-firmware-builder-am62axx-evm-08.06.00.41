<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<title>Vision Apps Design: Design Topic : Surround View</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ti_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Vision Apps Design
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_internal_docs_doxy_cfg_design_content_pages_05000_app_linux_opengl_srv.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Design Topic : Surround View </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="did_app_srv_requirements"></a>
Requirements Addressed</h1>
<ul>
<li><a href="https://jira.itg.ti.com/browse/ADASVISION-1811">https://jira.itg.ti.com/browse/ADASVISION-1811</a></li>
</ul>
<h1><a class="anchor" id="did_app_srv_intro"></a>
Introduction</h1>
<h2><a class="anchor" id="did_app_srv_purpose"></a>
Purpose</h2>
<p>The Surround View application is used to show the capabilities of J7 SoC to implement Surround View algorithms.</p>
<h2><a class="anchor" id="did_app_srv_short_desc"></a>
Short Application Description</h2>
<ul>
<li>Two graphs are created in this application<ul>
<li>The first generates the GPU LUT</li>
<li>The second generates a SRV image</li>
</ul>
</li>
<li>In PC Emulation mode, the output image is rendered to the screen</li>
</ul>
<h2><a class="anchor" id="did_app_srv_io_format"></a>
Input and Output format</h2>
<ul>
<li>The application takes in a cfg file containing the values for the following:<ul>
<li>A flag for whether the images are 1MP or 2MP</li>
<li>The bowl parameters</li>
<li>The view parameters</li>
</ul>
</li>
<li>Four BMP input images that are read by the application</li>
<li>An output SRV image</li>
</ul>
<h1><a class="anchor" id="did_app_srv_dir_structure"></a>
Directory Structure</h1>
<p>SRV application is at below path in vision apps:: </p><pre class="fragment">├── apps                              # Applications
│   ├── basic_demos                   # Application Group
│   │   ├── app_linux_opengl_srv      # SRV application
│   │   │   └── config                # Default configuration file
</pre><h1><a class="anchor" id="did_app_srv_diagrams"></a>
Diagrams</h1>
<h2><a class="anchor" id="did_app_srv_openvx_graph"></a>
OpenVX Graph</h2>
<p>Below application diagram shows two OpenVX graphs that comprise the SRV application. The first graph is run as updates to the bowl shape are needed. The two nodes that comprise this graph are connected via the srv_bowl_lut_gen applib. The second graph runs at the desired frame rate.</p>
<div class="image">
<img src="app_srv_data_flow.png" alt="app_srv_data_flow.png"/>
</div>
   <h1><a class="anchor" id="did_app_srv_resource_usage"></a>
Resource usage</h1>
<ol type="1">
<li>Generate3DBowl and Generate3DLUT are run on DSP</li>
<li>OpenGL node is run on GPU</li>
</ol>
<h1><a class="anchor" id="did_app_srv_error_handling"></a>
Error handling</h1>
<ol type="1">
<li>Input parameters specified in configuration file are validated by the application. In case of any error application either exits or uses a default</li>
<li>The SRV nodes have validate callbacks to verify the inputs and outputs before running the graph.</li>
</ol>
<h1><a class="anchor" id="did_app_srv_interface"></a>
Interface</h1>
<p>Following configuration options will be supported in the configuration <a href="file::">file::</a> </p><pre class="fragment"># If 2MP is used, set to 1, otherwise set to 0
is2MP 1

# Bowl offset
offsetXleft    -400
offsetXright   400
offsetYfront   -450
offsetYback    450

# view parameters
camx 0
camy 0
camz 480
targetx 0
targety 0
targetz 0
anglex 0
angley 0
anglez 0
</pre><h1><a class="anchor" id="did_app_srv_dar"></a>
Design Analysis and Resolution (DAR)</h1>
<h2><a class="anchor" id="did_app_srv_dar_01"></a>
Design Decision : xyz</h2>
<h3><a class="anchor" id="did_app_srv_dar_01_criteria"></a>
Design Criteria: xyz</h3>
<h3><a class="anchor" id="did_app_srv_dar_01_alt_01"></a>
Design Alternative: xyz</h3>
<h3><a class="anchor" id="did_app_srv_dar_01_alt_02"></a>
Design Alternative: xyz</h3>
<h3><a class="anchor" id="did_app_srv_dar_01_decision"></a>
Final Decision</h3>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
